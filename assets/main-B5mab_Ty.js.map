{"version":3,"file":"main-B5mab_Ty.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // ==============================================\n    // 1. Инициализация иконок (Lucide)\n    // ==============================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // ==============================================\n    // 2. Плавный скролл (Lenis)\n    // ==============================================\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        gestureDirection: 'vertical',\n        smooth: true,\n        mouseMultiplier: 1,\n        smoothTouch: false,\n        touchMultiplier: 2,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // ==============================================\n    // 3. Мобильное меню\n    // ==============================================\n    const burger = document.querySelector('.header__burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const menuLinks = document.querySelectorAll('.mobile-menu__link');\n    const mobileBtn = document.querySelector('.mobile-menu__btn');\n\n    const toggleMenu = () => {\n        if (!burger || !mobileMenu) return;\n        \n        mobileMenu.classList.toggle('is-active');\n        const isActive = mobileMenu.classList.contains('is-active');\n        \n        const iconName = isActive ? 'x' : 'menu';\n        burger.innerHTML = `<i data-lucide=\"${iconName}\"></i>`;\n        lucide.createIcons();\n        \n        if (isActive) {\n            lenis.stop();\n            document.body.style.overflow = 'hidden';\n        } else {\n            lenis.start();\n            document.body.style.overflow = '';\n        }\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    [...menuLinks, mobileBtn].forEach(link => {\n        if(link) {\n            link.addEventListener('click', () => {\n                if(mobileMenu && mobileMenu.classList.contains('is-active')) {\n                    toggleMenu();\n                }\n            });\n        }\n    });\n\n    // ==============================================\n    // 4. Анимация Нейросети (Hero Canvas)\n    // ==============================================\n    const canvas = document.getElementById('neuro-canvas');\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let width, height;\n        let particles = [];\n\n        const config = {\n            particleColor: 'rgba(0, 208, 132, 0.8)',\n            lineColor: 'rgba(0, 208, 132, 0.15)',\n            particleAmount: window.innerWidth < 768 ? 30 : 60,\n            defaultSpeed: 0.4,\n            linkRadius: 140,\n        };\n\n        const resize = () => {\n            const parent = canvas.parentElement;\n            if (parent) {\n                width = parent.offsetWidth;\n                height = parent.offsetHeight;\n                canvas.width = width;\n                canvas.height = height;\n            }\n        };\n\n        class Particle {\n            constructor() {\n                this.x = Math.random() * width;\n                this.y = Math.random() * height;\n                this.vx = (Math.random() - 0.5) * config.defaultSpeed;\n                this.vy = (Math.random() - 0.5) * config.defaultSpeed;\n                this.size = Math.random() * 2 + 1;\n            }\n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                if (this.x < 0 || this.x > width) this.vx *= -1;\n                if (this.y < 0 || this.y > height) this.vy *= -1;\n            }\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fillStyle = config.particleColor;\n                ctx.fill();\n            }\n        }\n\n        const initParticles = () => {\n            particles = [];\n            for (let i = 0; i < config.particleAmount; i++) {\n                particles.push(new Particle());\n            }\n        };\n\n        const animateParticles = () => {\n            ctx.clearRect(0, 0, width, height);\n            for (let i = 0; i < particles.length; i++) {\n                const p = particles[i];\n                p.update();\n                p.draw();\n                for (let j = i; j < particles.length; j++) {\n                    const p2 = particles[j];\n                    const dx = p.x - p2.x;\n                    const dy = p.y - p2.y;\n                    const distance = Math.sqrt(dx * dx + dy * dy);\n                    if (distance < config.linkRadius) {\n                        ctx.beginPath();\n                        ctx.strokeStyle = config.lineColor;\n                        ctx.lineWidth = 1;\n                        ctx.moveTo(p.x, p.y);\n                        ctx.lineTo(p2.x, p2.y);\n                        ctx.stroke();\n                    }\n                }\n            }\n            requestAnimationFrame(animateParticles);\n        };\n\n        resize();\n        initParticles();\n        animateParticles();\n\n        window.addEventListener('resize', () => {\n            resize();\n            if (particles.length === 0 || Math.abs(width - canvas.width) > 50) {\n                initParticles();\n            }\n        });\n    }\n\n    // ==============================================\n    // 5. ЛОГИКА ФОРМЫ (Валидация + Капча)\n    // ==============================================\n    const contactForm = document.getElementById('contactForm');\n    const phoneInput = document.getElementById('phone');\n    const captchaInput = document.getElementById('captcha');\n    const captchaQuestion = document.getElementById('captcha-question');\n    const successMessage = document.getElementById('successMessage');\n\n    // A. Валидация телефона (Только цифры)\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    // B. Капча\n    let captchaResult = 0;\n    const generateCaptcha = () => {\n        if (!captchaQuestion) return;\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        captchaResult = num1 + num2;\n        captchaQuestion.textContent = `${num1} + ${num2} = ?`;\n    };\n    generateCaptcha();\n\n    // C. Отправка\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                alert('Неверное решение примера.');\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            const btn = contactForm.querySelector('button[type=\"submit\"]');\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                contactForm.style.display = 'none';\n                successMessage.style.display = 'block';\n                lucide.createIcons();\n                contactForm.reset();\n            }, 1500);\n        });\n    }\n\n    // ==============================================\n    // 6. COOKIE POPUP (Сохранение в LocalStorage)\n    // ==============================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('accept-cookies');\n\n    if (cookiePopup && cookieBtn) {\n        // Проверяем, есть ли запись в хранилище\n        if (!localStorage.getItem('velinq_cookie_consent')) {\n            // Если нет — показываем с небольшой задержкой (чтобы красиво выехало)\n            setTimeout(() => {\n                cookiePopup.classList.add('is-visible');\n            }, 1000);\n        }\n\n        // Клик по кнопке\n        cookieBtn.addEventListener('click', () => {\n            // 1. Сохраняем согласие\n            localStorage.setItem('velinq_cookie_consent', 'true');\n            // 2. Убираем класс видимости\n            cookiePopup.classList.remove('is-visible');\n        });\n    }\n});"],"names":["lenis","t","raf","time","burger","mobileMenu","menuLinks","mobileBtn","toggleMenu","isActive","iconName","link","canvas","ctx","width","height","particles","config","resize","parent","Particle","initParticles","animateParticles","p","j","p2","dx","dy","contactForm","phoneInput","captchaInput","captchaQuestion","successMessage","captchaResult","generateCaptcha","num1","num2","btn","cookiePopup","cookieBtn"],"mappings":"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"}